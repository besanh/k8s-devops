k8s-begining:
  image:
    tag: "${IMAGE_TAG}"

  service:
    type: LoadBalancer

  vault:
    enabled: true
    role: "k8s-begining"
    secretPath: "secret/data/dev/k8s-begining/database"

  config:
    enabled: true
    files:
      config.yaml: |
        server:
          http:
            addr: 0.0.0.0:8000
            timeout: 1s
          grpc:
            addr: 0.0.0.0:9000
            timeout: 1s
        data:
          database:
            driver: pgx
            # Credentials injected by Vault Agent to /vault/secrets/database
            source: postgres://anh_admin:anh_admin@postgres:5432/anh_k8s_db?sslmode=disable
          redis:
            addr: redis:6379
            read_timeout: 0.2s
            write_timeout: 0.2s
        log:
          level: debug
